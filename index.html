<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>

    <link rel="stylesheet" href="dist/styles.css">

    <script src="dist/index.js"></script>

</head>
<body>

<button onclick="uploader.open()">open</button>

<script>

    var uploader = new EzUploader({
        upload: {
            target: 'https://datasets.local/api/v1/teams/company/datasets/rgb/4abeaa28-04fc-4c61-b243-ce9e789544db/upload/resumable',
            headers: {
                Authorization: 'Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImp0aSI6ImEyNDlhMjZlNDE0YTA3MGQ2N2NhMzY5MDhkYTMxMDUzMzQyNmI4NDcwZDYwMzEyZWVlYTJkZTY2NjU3M2U0ZWIxNjk2ZWEwNmE3MGQxYTczIn0.eyJhdWQiOiIxIiwianRpIjoiYTI0OWEyNmU0MTRhMDcwZDY3Y2EzNjkwOGRhMzEwNTMzNDI2Yjg0NzBkNjAzMTJlZWVhMmRlNjY2NTczZTRlYjE2OTZlYTA2YTcwZDFhNzMiLCJpYXQiOjE1MTg0MzMzOTksIm5iZiI6MTUxODQzMzM5OSwiZXhwIjoxNTQ5OTY5Mzk5LCJzdWIiOiJlYWViMTdiMi02ZjM1LTQxZjQtOTJiMy0yZTBhZjc2YTZlNWMiLCJzY29wZXMiOltdfQ.pyM8QqeRfgqsOpmM7AnoZfvGGQZK2fI7miVnneJjx7LFDXmNfwXg-W44gRGKCTauKz7xKeSGRSOQ09urL5SYh6GXFXkCjWFPzLmPjR9OQ8Gk6s_6q8RTtweY2W-sYQcwxoJMIqWzwNAEfhqs8u7OCPqsu6GcFvof9k2Cg5kFh8EfWPOUQeXii-dgRX7UH26BPce3yCgactr6x5idWhoHhUdceLzZL853z1ZAvXms25MCAjotr8HeLOYEVg3dDB1DYGIHlMRo2EE0ZOsPjG_RGL7yjr9FwzPwCmoKZFT9MdedOgi_P424wYjNip6uKQgwsMXxIKjWkOyXT4TlopAd47t8a1hwyzSMqqBa3OC1Ski7XXAAtkz8NVQZAQ5ZzH14kNsxCwoMgu1ZK-NSCdTCfFRHwbUVuvzPfznQ24Jh8m352smheBxtkMBHFi-hfRoAA-w-snGuly22SJL5E5RWXT_FcTho47GSD50gWdLPm6z7nK-NBH-dmGEYJQyJrH-FguBxiXAuxoQubYC7mEI1Sreitvkzsb72znPOvRUNG1ZVO7uW7bvMwALxSwDv45inM_s03AGEKiDBWZc4O-vmWAZ4wmy3IzaDi0pZaXyd8N_omzb55MwVOcQrh11RU_7F2xYzfXgboOvTa_iPe7BK6gqBw58QouJOAVDmyfMvmK4'
            },
            fileType: ['jpg', 'jpeg', 'png']
        },
        throttle: {
            debug: true
        }
    });

    uploader.open();

    var maxImages = 2;

    uploader.uploader.on('filesAdded', (files) => {

        var allowedSelectedFiles = maxImages - ( uploader.files.length - files.length );

        if (files.length > allowedSelectedFiles) {
            uploader.uploader.files.splice(maxImages, uploader.files.length);
            uploader.error = `You can only upload ${maxImages} ${maxImages > 1 ? 'images' : 'image'}`;
            uploader.updateDOM();
        }

    });

</script>

</body>
</html>