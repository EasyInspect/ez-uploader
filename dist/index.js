!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports["ez-uploader"]=t():e["ez-uploader"]=t()}("undefined"!=typeof self?self:this,function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=51)}([function(e,t){var n=e.exports={version:"2.5.3"};"number"==typeof __e&&(__e=n)},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){var r=n(1),i=n(0),o=n(37),a=n(7),s="prototype",u=function(e,t,n){var l,c,d,f=e&u.F,p=e&u.G,h=e&u.S,m=e&u.P,g=e&u.B,v=e&u.W,b=p?i:i[t]||(i[t]={}),y=b[s],O=p?r:h?r[t]:(r[t]||{})[s];p&&(n=t);for(l in n)(c=!f&&O&&void 0!==O[l])&&l in b||(d=c?O[l]:n[l],b[l]=p&&"function"!=typeof O[l]?n[l]:g&&c?o(d,r):v&&O[l]==d?function(e){var t=function(t,n,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,r)}return e.apply(this,arguments)};return t[s]=e[s],t}(d):m&&"function"==typeof d?o(Function.call,d):d,m&&((b.virtual||(b.virtual={}))[l]=d,e&u.R&&y&&!y[l]&&a(y,l,d)))};u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,e.exports=u},function(e,t,n){var r=n(12),i=n(38),o=n(22),a=Object.defineProperty;t.f=n(5)?Object.defineProperty:function(e,t,n){if(r(e),t=o(t,!0),r(n),i)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){e.exports=!n(9)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t,n){var r=n(34),i=n(17);e.exports=function(e){return r(i(e))}},function(e,t,n){var r=n(4),i=n(15);e.exports=n(5)?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){var r=n(20)("wks"),i=n(14),o=n(1).Symbol,a="function"==typeof o;(e.exports=function(e){return r[e]||(r[e]=a&&o[e]||(a?o:i)("Symbol."+e))}).store=r},function(e,t,n){var r=n(33),i=n(21);e.exports=Object.keys||function(e){return r(e,i)}},function(e,t,n){var r=n(8);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t,n){var r=n(17);e.exports=function(e){return Object(r(e))}},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t,n){var r=n(20)("keys"),i=n(14);e.exports=function(e){return r[e]||(r[e]=i(e))}},function(e,t,n){var r=n(1),i="__core-js_shared__",o=r[i]||(r[i]={});e.exports=function(e){return o[e]||(o[e]={})}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,n){var r=n(8);e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){"use strict";t.__esModule=!0;var r=a(n(71)),i=a(n(82)),o="function"==typeof i.default&&"symbol"==typeof r.default?function(e){return typeof e}:function(e){return e&&"function"==typeof i.default&&e.constructor===i.default&&e!==i.default.prototype?"symbol":typeof e};function a(e){return e&&e.__esModule?e:{default:e}}t.default="function"==typeof i.default&&"symbol"===o(r.default)?function(e){return void 0===e?"undefined":o(e)}:function(e){return e&&"function"==typeof i.default&&e.constructor===i.default&&e!==i.default.prototype?"symbol":void 0===e?"undefined":o(e)}},function(e,t){e.exports=!0},function(e,t){e.exports={}},function(e,t,n){var r=n(12),i=n(76),o=n(21),a=n(19)("IE_PROTO"),s=function(){},u="prototype",l=function(){var e,t=n(39)("iframe"),r=o.length;for(t.style.display="none",n(77).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),l=e.F;r--;)delete l[u][o[r]];return l()};e.exports=Object.create||function(e,t){var n;return null!==e?(s[u]=r(e),n=new s,s[u]=null,n[a]=e):n=l(),void 0===t?n:i(n,t)}},function(e,t,n){var r=n(4).f,i=n(2),o=n(10)("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,o)&&r(e,o,{configurable:!0,value:t})}},function(e,t,n){t.f=n(10)},function(e,t,n){var r=n(1),i=n(0),o=n(25),a=n(29),s=n(4).f;e.exports=function(e){var t=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:a.f(e)})}},function(e,t,n){"use strict";function r(e){return e.map(e=>String.fromCharCode(e)).join("")}t.b=r,t.a=function(e){if(e.length>=8){const t=r(e.slice(0,8));if("ASCII\0\0\0"===t)return r(e.slice(8));if("JIS\0\0\0\0\0"===t)return"[JIS encoded text]";if("UNICODE\0"===t)return"[Unicode encoded text]";if("\0\0\0\0\0\0\0\0"===t)return"[Undefined encoding]"}return"Undefined"}},function(e,t,n){e.exports={default:n(54),__esModule:!0}},function(e,t,n){var r=n(2),i=n(6),o=n(56)(!1),a=n(19)("IE_PROTO");e.exports=function(e,t){var n,s=i(e),u=0,l=[];for(n in s)n!=a&&r(s,n)&&l.push(n);for(;t.length>u;)r(s,n=t[u++])&&(~o(l,n)||l.push(n));return l}},function(e,t,n){var r=n(35);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){var r=n(3),i=n(0),o=n(9);e.exports=function(e,t){var n=(i.Object||{})[e]||Object[e],a={};a[e]=t(n),r(r.S+r.F*o(function(){n(1)}),"Object",a)}},function(e,t,n){var r=n(59);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},function(e,t,n){e.exports=!n(5)&&!n(9)(function(){return 7!=Object.defineProperty(n(39)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){var r=n(8),i=n(1).document,o=r(i)&&r(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},function(e,t,n){e.exports={default:n(60),__esModule:!0}},function(e,t,n){e.exports={default:n(61),__esModule:!0}},function(e,t,n){var r=n(2),i=n(13),o=n(19)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=i(e),r(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t,n){"use strict";t.__esModule=!0;var r,i=n(67),o=(r=i)&&r.__esModule?r:{default:r};t.default=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,o.default)(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()},function(e,t,n){"use strict";var r=n(25),i=n(3),o=n(46),a=n(7),s=n(2),u=n(26),l=n(75),c=n(28),d=n(42),f=n(10)("iterator"),p=!([].keys&&"next"in[].keys()),h="values",m=function(){return this};e.exports=function(e,t,n,g,v,b,y){l(n,t,g);var O,S,k,w=function(e){if(!p&&e in _)return _[e];switch(e){case"keys":case h:return function(){return new n(this,e)}}return function(){return new n(this,e)}},P=t+" Iterator",F=v==h,x=!1,_=e.prototype,C=_[f]||_["@@iterator"]||v&&_[v],E=!p&&C||w(v),N=v?F?w("entries"):E:void 0,z="Array"==t?_.entries||C:C;if(z&&(k=d(z.call(new e)))!==Object.prototype&&k.next&&(c(k,P,!0),r||s(k,f)||a(k,f,m)),F&&C&&C.name!==h&&(x=!0,E=function(){return C.call(this)}),r&&!y||!p&&!x&&_[f]||a(_,f,E),u[t]=E,u[P]=m,v)if(O={values:F?E:w(h),keys:b?E:w("keys"),entries:N},y)for(S in O)S in _||o(_,S,O[S]);else i(i.P+i.F*(p||x),t,O);return O}},function(e,t,n){e.exports=n(7)},function(e,t,n){var r=n(33),i=n(21).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},function(e,t,n){var r=n(16),i=n(15),o=n(6),a=n(22),s=n(2),u=n(38),l=Object.getOwnPropertyDescriptor;t.f=n(5)?l:function(e,t){if(e=o(e),t=a(t,!0),u)try{return l(e,t)}catch(e){}if(s(e,t))return i(!r.f.call(e,t),e[t])}},function(e,t,n){"use strict";t.a=function(e,t,n){const r=[];for(let i=0;i<n&&t+i<e.byteLength;i++)r.push(e.getUint8(t+i,!1));return(i=r,i.map(e=>String.fromCharCode(e))).join("");var i}},function(e,t,n){"use strict";const r=18761,i=19789;t.a={BIG_ENDIAN:i,LITTLE_ENDIAN:r,getByteOrder:function(e,t){if(e.getUint16(t)===r)return r;if(e.getUint16(t)===i)return i;throw new Error("Illegal byte order value. Faulty image.")}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});i(n(52));var r=i(n(53));function i(e){return e&&e.__esModule?e:{default:e}}window.EzUploader=r.default,t.default=r.default},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=f(n(32)),i=f(n(40)),o=f(n(41)),a=f(n(64)),s=f(n(43)),u=f(n(44)),l=f(n(70)),c=f(n(92)),d=f(n(100));f(n(101));function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t){var n;if(t&&(void 0!==t["ez-show"]||void 0!==t["ez-show-flex"])){var r=void 0!==t["ez-show"]?"ez-show":"ez-show-flex",i="ez-show-flex"===r?"flex":"block",o="display:"+(t[r]?i:"none")+";";t.style=t.style?o+";"+t.style:o,delete t[r]}for(var a=arguments.length,s=Array(a>2?a-2:0),u=2;u<a;u++)s[u-2]=arguments[u];return{type:e,props:t,children:s.length?(n=[]).concat.apply(n,s):[]}}var h=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.upload,r=e.ui,i=e.throttle;(0,s.default)(this,t);var u=(0,l.default)(this,(t.__proto__||(0,a.default)(t)).call(this));return u.settings={upload:(0,o.default)({},{target:null,headers:{},maxFilesErrorCallback:u.maxFilesErrorCallback.bind(u),maxFileSizeErrorCallback:u.maxFileSizeErrorCallback.bind(u),minFileSizeErrorCallback:u.minFileSizeErrorCallback.bind(u),fileType:[],fileTypeErrorCallback:u.fileTypeErrorCallback.bind(u)},n),ui:(0,o.default)({},{thumbnail:!1,loadingFiles:!1,doneText:"done"},r),throttle:(0,o.default)({},{rate:1,per:.1,lastCheck:Date.now(),allowance:50,debug:!1},i)},u.uploading=!1,u.uploader=null,u.error=null,u.fileErrors={},u.mappedFiles={},u.stats={start:0,iterations:0,iterationsPerSecond:0},u.addUploaderToDOM(),u.addResumable(),u.addKeypressEventListeners(),u.addFileTypeRegex(u.settings.upload.fileTypes),u.settings.throttle.debug&&(window.update=u.updateDOM.bind(u),window.updateThrottle=u.updateDOMWithThrottle.bind(u)),u}return(0,c.default)(t,e),(0,u.default)(t,[{key:"addResumable",value:function(){var e=this.settings.upload,t=document.querySelectorAll("[ez-uploader-browse]"),n=document.querySelectorAll("[ez-uploader-browse-directory]"),r=document.querySelectorAll("[ez-uploader-drop]")[0];this.addInputEventListeners(),this.uploader=new d.default(e),this.uploader.assignBrowse(t),this.uploader.assignBrowse(n,!0),this.uploader.assignDrop(r),this.addResumableEventListeners()}},{key:"addFileTypeRegex",value:function(e){var t=void 0;if(e&&e.length){var n=e.reduce(function(e,t){return e+"."+t+"|"},"(").slice(0,-1).concat(")$");t=new RegExp(n,"i")}else t=new RegExp(".");this.fileTypeRegex=t}},{key:"clearError",value:function(){this.error=null}},{key:"clearFileErrors",value:function(){this.fileErrors={}}},{key:"maxFilesErrorCallback",value:function(e,t){this.error="You can only upload "+this.settings.upload.maxFiles+" "+(this.settings.upload.maxFiles>1?"images":"image"),this.updateDOM()}},{key:"maxFileSizeErrorCallback",value:function(e,t){this.error=e.name+" is too large, the maximum file size allowed is "+this.convertBytesToMB(this.settings.upload.maxFileSize)+"MB",this.updateDOM()}},{key:"minFileSizeErrorCallback",value:function(e,t){this.error=e.name+" is too small, the minimum file size allowed is "+this.convertBytesToMB(this.settings.upload.minFileSize)+"MB",this.updateDOM()}},{key:"fileTypeErrorCallback",value:function(e,t){var n=this.settings.upload.fileTypes||[],r=n.reduce(function(e,t,r){return r===n.length-2?e+=t+" or ":r===n.length-1?e+=""+t:e+=t+", ",e},"");this.error=e.name+" isn't an allowed file type, please upload files of type "+r,this.updateDOM()}},{key:"browseFiles",value:function(e){document.querySelectorAll("[ez-uploader-browse]")[0].click()}},{key:"browseDirectory",value:function(){document.querySelectorAll("[ez-uploader-browse-directory]")[0].click()}},{key:"addKeypressEventListeners",value:function(){window.addEventListener("keyup",function(e){e.keyCode,0})}},{key:"addInputEventListeners",value:function(){[document.querySelectorAll("[ez-uploader-browse]")[0],document.querySelectorAll("[ez-uploader-browse-directory]")[0],document.querySelectorAll("[ez-uploader-drop]")[0]].forEach(function(e){e.addEventListener("change",function(e){})})}},{key:"addResumableEventListeners",value:function(){this.uploader.on("filesAdded",this.onFilesAdded.bind(this)),this.uploader.on("fileSuccess",this.onFileSuccess.bind(this)),this.uploader.on("fileProgress",this.onFileProgress.bind(this)),this.uploader.on("fileRetry",this.onFileRetry.bind(this)),this.uploader.on("fileError",this.onFileError.bind(this)),this.uploader.on("uploadStart",this.onUploadStart.bind(this)),this.uploader.on("complete",this.onComplete.bind(this)),this.uploader.on("progress",this.onProgress.bind(this)),this.uploader.on("error",this.onError.bind(this)),this.uploader.on("pause",this.onPause.bind(this)),this.uploader.on("cancel",this.onCancel.bind(this))}},{key:"onFilesAdded",value:function(e,t){var n=this,r=!1;e.forEach(function(e,t){n.fileTypeRegex.test(e.fileName)||(n.uploader.removeFile(e),r||(n.fileTypeErrorCallback(e.file),r=!0))}),r||this.clearError(),this.settings.ui.loadingFiles=!1,this.settings.ui.thumbnail&&e.forEach(function(e){n.mappedFiles[e.uniqueIdentifier]={};var t=new FileReader;t.readAsDataURL(e.file),t.onload=function(t){n.mappedFiles[e.uniqueIdentifier].src=t.target.result,n.updateDOM()}}),this.updateDOM()}},{key:"onFileSuccess",value:function(e,t){delete this.fileErrors[e.uniqueIdentifier],this.updateDOM()}},{key:"onFileProgress",value:function(e,t){}},{key:"onFileRetry",value:function(e,t){this.updateDOMWithThrottle()}},{key:"onFileError",value:function(e,t){var n="";try{n=JSON.parse((0,i.default)(t)).message||"An error occured"}catch(e){n="An error occurred"}this.fileErrors[e.uniqueIdentifier]={file:e,error:n},this.updateDOM()}},{key:"onUploadStart",value:function(e,t){this.updateDOM()}},{key:"onComplete",value:function(e,t){this.uploading=!1,this.updateDOM()}},{key:"onProgress",value:function(e,t){this.updateDOMWithThrottle()}},{key:"onError",value:function(e,t){this.updateDOM()}},{key:"onPause",value:function(e,t){this.updateDOM()}},{key:"onCancel",value:function(e,t){this.updateDOM()}},{key:"open",value:function(){this.modal&&(this.modal.style.display="flex")}},{key:"close",value:function(){this.modal&&(this.modal.style.display="none")}},{key:"resetModal",value:function(){this.close(),this.removeAllFiles()}},{key:"startUploading",value:function(){this.stats.start=Date.now(),this.uploading=!0,this.clearError(),this.uploader.upload(),this.updateDOM()}},{key:"pauseUploading",value:function(){this.uploading=!1,this.uploader.pause()}},{key:"removeFile",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.clearError(),delete this.fileErrors[e.uniqueIdentifier],this.uploader.removeFile(e),t&&this.updateDOM()}},{key:"pauseFile",value:function(e){e.pause(),this.updateDOM()}},{key:"retryFile",value:function(e){this.uploading=!0,delete this.fileErrors[e.uniqueIdentifier],e.retry(),this.updateDOM()}},{key:"retryAllFiles",value:function(){var e=this;(0,r.default)(this.fileErrors).forEach(function(t){var n=e.fileErrors[t].file;e.retryFile(n)})}},{key:"removeAllFiles",value:function(){var e=this;this.clearError(),this.clearFileErrors(),this.files.map(function(e){return e.uniqueIdentifier}).forEach(function(t,n){var r=e.uploader.getFromUniqueIdentifier(t);e.removeFile(r,!1)}),this.updateDOM()}},{key:"getUploadedBytes",value:function(){var e=100*this.uploader.progress(),t=this.getTotalBytes()/100*e;return parseFloat(t.toFixed(2))}},{key:"getTotalBytes",value:function(){var e=this,t=this.files.reduce(function(t,n){return t+e.convertBytesToMB(n.size)},0);return parseFloat(t.toFixed(2))}},{key:"convertBytesToMB",value:function(e){var t=isNaN(e)?0:e/1024/1024;return parseFloat(t.toFixed(2))}},{key:"addUploaderToDOM",value:function(){this.cachedVDOM=this.getVDOM(),this.modal=this.createElement(this.cachedVDOM),document.body.appendChild(this.modal)}},{key:"getTitleVDOM",value:function(){if(this.files.length){if(this.uploading){(100*this.uploader.progress()).toFixed(2);return p("p",null)}return this.uploader.progress()>=1?p("p",null,"The upload has completed"):p("p",null,"You've chosen ",this.files.length," ",this.files.length>1?"files":"file"," ",p("span",{className:"ez-uploader__progress-text"},this.getTotalBytes()," MB"))}return p("p",null,"Select some files to get started")}},{key:"getErrorVDOM",value:function(){return this.error?p("div",{className:"ez-uploader__modal-header-error"},this.error):""}},{key:"getFileImageVDOM",value:function(e){return this.settings.ui.thumbnail?this.mappedFiles[e.uniqueIdentifier]&&this.mappedFiles[e.uniqueIdentifier].src?p("div",{className:"ez-uploader__modal-file-image"},p("img",{src:this.mappedFiles[e.uniqueIdentifier].src})):p("div",{className:"ez-uploader__modal-file-image"}):""}},{key:"getFileOptionsVDOM",value:function(e){var t=[];if(!this.uploader||this.fileErrors[e.uniqueIdentifier]||!this.uploading&&1!==e.progress())this.uploading||1===e.progress()?this.fileErrors[e.uniqueIdentifier]&&t.push(p("div",{"ez-on-click":this.retryFile.bind(this,e),className:"ez-uploader__modal-button--small ez-uploader__modal-button-blue"},"retry")):t.push(p("div",{"ez-on-click":this.removeFile.bind(this,e),className:"ez-uploader__modal-button--small ez-uploader__modal-button-red"},"remove"));else{this.files.length;var n="width:"+100*e.progress()+"%";t.push(p("div",{className:"ez-uploader__modal-file-progress"},p("div",{className:"ez-uploader__modal-file-progress-inner",style:n})))}return t}},{key:"getBodyVDOM",value:function(){var e=[];if(this.uploading){var t=(0,r.default)(this.fileErrors).length,n=(100*this.uploader.progress()).toFixed(2),i=[];t&&i.push(p("div",{"ez-on-click":this.retryAllFiles.bind(this),className:"ez-uploader__modal-button ez-uploader__modal-button-blue",style:"margin-right:5px"},"retry failed files")),i.push(p("div",{"ez-on-click":this.pauseUploading.bind(this),className:"ez-uploader__modal-button ez-uploader__modal-button-orange"},"Pause uploading")),e.push(p("div",{className:"ez-uploader__modal-placeholder",style:"border: none"},p("h2",null,"Uploading ",this.files.length," ",this.files.length>1?"files":"file"),p("p",{style:"opacity: 0.8;"},p("span",null,this.getUploadedBytes()," MB / ",this.getTotalBytes()," MB")," ",p("span",null,"(",n,"%)")),!!t&&p("p",{className:"ez-uploader__modal-file--error",style:"margin-top:0"},t," ",t>1?"files":"file"," failed"),p("div",null,i)))}else this.uploader&&this.uploader.files.length&&(e=e.concat(this.files.map(this.getFileVDOM.bind(this)))),e.push(p("div",{forceUpdate:!0,"ez-show-flex":!this.files.length,className:"ez-uploader__modal-placeholder"},p("h2",null,"Drag and drop files"),p("p",null,"or"),p("div",null,p("div",{"ez-on-click":this.browseDirectory.bind(this),className:"ez-uploader__modal-button ez-uploader__modal-button-wet-asphalt",style:"margin-right:5px"},"Add directory"),p("div",{"ez-on-click":this.browseFiles.bind(this),className:"ez-uploader__modal-button ez-uploader__modal-button-wet-asphalt"},"Add files"))));return this.settings.ui.loadingFiles,e}},{key:"getFileVDOM",value:function(e){var t="";return this.fileErrors[e.uniqueIdentifier]?t="ez-uploader__modal-file--error":1===e.progress()&&(t="ez-uploader__modal-file--success"),p("div",{className:"ez-uploader__modal-file "+t},this.getFileImageVDOM(e),p("div",{className:"ez-uploader__modal-file-text"},p("div",{className:"ez-uploader__modal-file-name"},e.fileName,p("span",{className:"ez-uploader__modal-file-size"},this.convertBytesToMB(e.size)," MB")),p("div",{className:"ez-uploader__modal-file-error"},this.fileErrors[e.uniqueIdentifier]?this.fileErrors[e.uniqueIdentifier].error:"")),p("div",{className:"ez-uploader__modal-file-options"},this.getFileOptionsVDOM(e)))}},{key:"getUploaderLeftOptionsVDOM",value:function(){var e=[];return this.uploader&&!this.uploading&&this.files.length&&(this.uploader.progress()<1&&e.push(p("div",{"ez-on-click":this.removeAllFiles.bind(this),className:"ez-uploader__modal-button"},"Clear")),e.push(p("div",{"ez-on-click":this.browseDirectory.bind(this),className:"ez-uploader__modal-button ez-uploader__modal-button-wet-asphalt"},"Add directory")),e.push(p("div",{"ez-on-click":this.browseFiles.bind(this),className:"ez-uploader__modal-button ez-uploader__modal-button-wet-asphalt"},"Add files"))),e}},{key:"getUploaderRightOptionsVDOM",value:function(){var e=[],t=(0,r.default)(this.fileErrors).length;return this.uploader&&(this.uploader.progress()>=1?(t?t<this.files.length?e.push(p("span",{className:"ez-uploader__modal-footer-info"},t," out of ",this.files.length," ",this.files.length>1?"files":"file"," failed to upload")):t===this.files.length&&e.push(p("span",{className:"ez-uploader__modal-footer-info"},"All of your files failed to upload")):e.push(p("span",{className:"ez-uploader__modal-footer-info"},"All of your images has now been uploaded")),t&&e.push(p("div",{"ez-on-click":this.retryAllFiles.bind(this),className:"ez-uploader__modal-button ez-uploader__modal-button-blue"},"retry failed files")),e.push(p("div",{"ez-on-click":this.resetModal.bind(this),className:"ez-uploader__modal-button ez-uploader__modal-button-green"},this.settings.ui.doneText))):this.uploading?(t&&e.push(p("div",{"ez-on-click":this.retryAllFiles.bind(this),className:"ez-uploader__modal-button ez-uploader__modal-button-blue"},"retry failed files")),e.push(p("div",{"ez-on-click":this.pauseUploading.bind(this),className:"ez-uploader__modal-button ez-uploader__modal-button-orange"},"Pause uploading"))):this.uploader.progress()?(t&&e.push(p("div",{"ez-on-click":this.retryAllFiles.bind(this),className:"ez-uploader__modal-button ez-uploader__modal-button-blue"},"retry failed files")),e.push(p("div",{"ez-on-click":this.startUploading.bind(this),className:"ez-uploader__modal-button ez-uploader__modal-button-blue"},"Resume uploading"))):this.files.length&&e.push(p("div",{"ez-on-click":this.startUploading.bind(this),className:"ez-uploader__modal-button ez-uploader__modal-button-blue"},"Start uploading"))),e}},{key:"getProgressVDOM",value:function(){var e=this.uploader&&100*this.uploader.progress()||0;return p("div",{className:"ez-uploader__total-progress-inner",style:"width:"+e+"%"+";"+(100===e?"background:#27ae60":"")})}},{key:"getVDOM",value:function(){return p("div",{className:"ez-uploader__backdrop"},p("div",{className:"ez-uploader__modal"},p("div",{className:"ez-uploader__modal-header"},p("div",{"ez-display-block":!this.uploading,className:"ez-uploader__modal-title"},this.getTitleVDOM()),p("div",{"ez-on-click":this.close.bind(this),className:"ez-uploader__modal-cross"},p("span",{className:"ez-uploader__modal-cross-line"}),p("span",{className:"ez-uploader__modal-cross-line"})),this.getErrorVDOM()),p("div",{className:"ez-uploader__total-progress"},this.getProgressVDOM()),p("div",{"ez-uploader-drop":!0,className:"ez-uploader__modal-body"},p("input",{type:"file","ez-uploader-browse":!0,style:"display:none"}),p("input",{type:"file","ez-uploader-browse-directory":!0,style:"display:none"}),this.getBodyVDOM()),p("div",{"ez-show-flex":this.files.length&&!this.uploading,className:"ez-uploader__modal-footer"},p("div",{className:"ez-uploader__modal-footer-left"},this.getUploaderLeftOptionsVDOM()),p("div",{className:"ez-uploader__modal-footer-right"},this.getUploaderRightOptionsVDOM()))))}},{key:"updateDOMWithThrottle",value:function(){var e=this.files.length/1e3;this.settings.throttle.per=e>1?1:e<.1?.1:e;var t=Date.now(),n=(t-this.settings.throttle.lastCheck)/1e3,r=this.settings.throttle.allowance+n*(this.settings.throttle.rate/this.settings.throttle.per);this.settings.throttle.lastCheck=t,r>=this.settings.throttle.rate?this.settings.throttle.allowance=this.settings.throttle.rate:this.settings.throttle.allowance=r,this.settings.throttle.allowance>=1&&(this.updateDOM(),this.settings.throttle.allowance-=1)}},{key:"updateDOM",value:function(){this.settings.throttle.debug&&(this.stats.start&&(this.stats.iterations++,this.stats.iterationsPerSecond=(Date.now()-this.stats.start)/1e3/this.stats.iterations),window.stats=this.stats),this.settings.throttle.debug;var e=this.getVDOM();this.updateElement(this.modal,e.children[0],this.cachedVDOM.children[0]),this.cachedVDOM=e,this.settings.throttle.debug}},{key:"files",get:function(){return this.uploader&&this.uploader.files||[]}}]),t}(f(n(114)).default);t.default=h},function(e,t,n){n(55),e.exports=n(0).Object.keys},function(e,t,n){var r=n(13),i=n(11);n(36)("keys",function(){return function(e){return i(r(e))}})},function(e,t,n){var r=n(6),i=n(57),o=n(58);e.exports=function(e){return function(t,n,a){var s,u=r(t),l=i(u.length),c=o(a,l);if(e&&n!=n){for(;l>c;)if((s=u[c++])!=s)return!0}else for(;l>c;c++)if((e||c in u)&&u[c]===n)return e||c||0;return!e&&-1}}},function(e,t,n){var r=n(18),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},function(e,t,n){var r=n(18),i=Math.max,o=Math.min;e.exports=function(e,t){return(e=r(e))<0?i(e+t,0):o(e,t)}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){var r=n(0),i=r.JSON||(r.JSON={stringify:JSON.stringify});e.exports=function(e){return i.stringify.apply(i,arguments)}},function(e,t,n){n(62),e.exports=n(0).Object.assign},function(e,t,n){var r=n(3);r(r.S+r.F,"Object",{assign:n(63)})},function(e,t,n){"use strict";var r=n(11),i=n(23),o=n(16),a=n(13),s=n(34),u=Object.assign;e.exports=!u||n(9)(function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach(function(e){t[e]=e}),7!=u({},e)[n]||Object.keys(u({},t)).join("")!=r})?function(e,t){for(var n=a(e),u=arguments.length,l=1,c=i.f,d=o.f;u>l;)for(var f,p=s(arguments[l++]),h=c?r(p).concat(c(p)):r(p),m=h.length,g=0;m>g;)d.call(p,f=h[g++])&&(n[f]=p[f]);return n}:u},function(e,t,n){e.exports={default:n(65),__esModule:!0}},function(e,t,n){n(66),e.exports=n(0).Object.getPrototypeOf},function(e,t,n){var r=n(13),i=n(42);n(36)("getPrototypeOf",function(){return function(e){return i(r(e))}})},function(e,t,n){e.exports={default:n(68),__esModule:!0}},function(e,t,n){n(69);var r=n(0).Object;e.exports=function(e,t,n){return r.defineProperty(e,t,n)}},function(e,t,n){var r=n(3);r(r.S+r.F*!n(5),"Object",{defineProperty:n(4).f})},function(e,t,n){"use strict";t.__esModule=!0;var r,i=n(24),o=(r=i)&&r.__esModule?r:{default:r};t.default=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,o.default)(t))&&"function"!=typeof t?e:t}},function(e,t,n){e.exports={default:n(72),__esModule:!0}},function(e,t,n){n(73),n(78),e.exports=n(29).f("iterator")},function(e,t,n){"use strict";var r=n(74)(!0);n(45)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})})},function(e,t,n){var r=n(18),i=n(17);e.exports=function(e){return function(t,n){var o,a,s=String(i(t)),u=r(n),l=s.length;return u<0||u>=l?e?"":void 0:(o=s.charCodeAt(u))<55296||o>56319||u+1===l||(a=s.charCodeAt(u+1))<56320||a>57343?e?s.charAt(u):o:e?s.slice(u,u+2):a-56320+(o-55296<<10)+65536}}},function(e,t,n){"use strict";var r=n(27),i=n(15),o=n(28),a={};n(7)(a,n(10)("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=r(a,{next:i(1,n)}),o(e,t+" Iterator")}},function(e,t,n){var r=n(4),i=n(12),o=n(11);e.exports=n(5)?Object.defineProperties:function(e,t){i(e);for(var n,a=o(t),s=a.length,u=0;s>u;)r.f(e,n=a[u++],t[n]);return e}},function(e,t,n){var r=n(1).document;e.exports=r&&r.documentElement},function(e,t,n){n(79);for(var r=n(1),i=n(7),o=n(26),a=n(10)("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),u=0;u<s.length;u++){var l=s[u],c=r[l],d=c&&c.prototype;d&&!d[a]&&i(d,a,l),o[l]=o.Array}},function(e,t,n){"use strict";var r=n(80),i=n(81),o=n(26),a=n(6);e.exports=n(45)(Array,"Array",function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,i(1)):i(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])},"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(e,t){e.exports=function(){}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){e.exports={default:n(83),__esModule:!0}},function(e,t,n){n(84),n(89),n(90),n(91),e.exports=n(0).Symbol},function(e,t,n){"use strict";var r=n(1),i=n(2),o=n(5),a=n(3),s=n(46),u=n(85).KEY,l=n(9),c=n(20),d=n(28),f=n(14),p=n(10),h=n(29),m=n(30),g=n(86),v=n(87),b=n(12),y=n(8),O=n(6),S=n(22),k=n(15),w=n(27),P=n(88),F=n(48),x=n(4),_=n(11),C=F.f,E=x.f,N=P.f,z=r.Symbol,T=r.JSON,A=T&&T.stringify,j="prototype",D=p("_hidden"),M=p("toPrimitive"),I={}.propertyIsEnumerable,L=c("symbol-registry"),U=c("symbols"),R=c("op-symbols"),B=Object[j],G="function"==typeof z,V=r.QObject,q=!V||!V[j]||!V[j].findChild,W=o&&l(function(){return 7!=w(E({},"a",{get:function(){return E(this,"a",{value:7}).a}})).a})?function(e,t,n){var r=C(B,t);r&&delete B[t],E(e,t,n),r&&e!==B&&E(B,t,r)}:E,H=function(e){var t=U[e]=w(z[j]);return t._k=e,t},K=G&&"symbol"==typeof z.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof z},$=function(e,t,n){return e===B&&$(R,t,n),b(e),t=S(t,!0),b(n),i(U,t)?(n.enumerable?(i(e,D)&&e[D][t]&&(e[D][t]=!1),n=w(n,{enumerable:k(0,!1)})):(i(e,D)||E(e,D,k(1,{})),e[D][t]=!0),W(e,t,n)):E(e,t,n)},Y=function(e,t){b(e);for(var n,r=g(t=O(t)),i=0,o=r.length;o>i;)$(e,n=r[i++],t[n]);return e},J=function(e){var t=I.call(this,e=S(e,!0));return!(this===B&&i(U,e)&&!i(R,e))&&(!(t||!i(this,e)||!i(U,e)||i(this,D)&&this[D][e])||t)},X=function(e,t){if(e=O(e),t=S(t,!0),e!==B||!i(U,t)||i(R,t)){var n=C(e,t);return!n||!i(U,t)||i(e,D)&&e[D][t]||(n.enumerable=!0),n}},Q=function(e){for(var t,n=N(O(e)),r=[],o=0;n.length>o;)i(U,t=n[o++])||t==D||t==u||r.push(t);return r},Z=function(e){for(var t,n=e===B,r=N(n?R:O(e)),o=[],a=0;r.length>a;)!i(U,t=r[a++])||n&&!i(B,t)||o.push(U[t]);return o};G||(s((z=function(){if(this instanceof z)throw TypeError("Symbol is not a constructor!");var e=f(arguments.length>0?arguments[0]:void 0),t=function(n){this===B&&t.call(R,n),i(this,D)&&i(this[D],e)&&(this[D][e]=!1),W(this,e,k(1,n))};return o&&q&&W(B,e,{configurable:!0,set:t}),H(e)})[j],"toString",function(){return this._k}),F.f=X,x.f=$,n(47).f=P.f=Q,n(16).f=J,n(23).f=Z,o&&!n(25)&&s(B,"propertyIsEnumerable",J,!0),h.f=function(e){return H(p(e))}),a(a.G+a.W+a.F*!G,{Symbol:z});for(var ee="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),te=0;ee.length>te;)p(ee[te++]);for(var ne=_(p.store),re=0;ne.length>re;)m(ne[re++]);a(a.S+a.F*!G,"Symbol",{for:function(e){return i(L,e+="")?L[e]:L[e]=z(e)},keyFor:function(e){if(!K(e))throw TypeError(e+" is not a symbol!");for(var t in L)if(L[t]===e)return t},useSetter:function(){q=!0},useSimple:function(){q=!1}}),a(a.S+a.F*!G,"Object",{create:function(e,t){return void 0===t?w(e):Y(w(e),t)},defineProperty:$,defineProperties:Y,getOwnPropertyDescriptor:X,getOwnPropertyNames:Q,getOwnPropertySymbols:Z}),T&&a(a.S+a.F*(!G||l(function(){var e=z();return"[null]"!=A([e])||"{}"!=A({a:e})||"{}"!=A(Object(e))})),"JSON",{stringify:function(e){for(var t,n,r=[e],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=t=r[1],(y(t)||void 0!==e)&&!K(e))return v(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!K(t))return t}),r[1]=t,A.apply(T,r)}}),z[j][M]||n(7)(z[j],M,z[j].valueOf),d(z,"Symbol"),d(Math,"Math",!0),d(r.JSON,"JSON",!0)},function(e,t,n){var r=n(14)("meta"),i=n(8),o=n(2),a=n(4).f,s=0,u=Object.isExtensible||function(){return!0},l=!n(9)(function(){return u(Object.preventExtensions({}))}),c=function(e){a(e,r,{value:{i:"O"+ ++s,w:{}}})},d=e.exports={KEY:r,NEED:!1,fastKey:function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,r)){if(!u(e))return"F";if(!t)return"E";c(e)}return e[r].i},getWeak:function(e,t){if(!o(e,r)){if(!u(e))return!0;if(!t)return!1;c(e)}return e[r].w},onFreeze:function(e){return l&&d.NEED&&u(e)&&!o(e,r)&&c(e),e}}},function(e,t,n){var r=n(11),i=n(23),o=n(16);e.exports=function(e){var t=r(e),n=i.f;if(n)for(var a,s=n(e),u=o.f,l=0;s.length>l;)u.call(e,a=s[l++])&&t.push(a);return t}},function(e,t,n){var r=n(35);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){var r=n(6),i=n(47).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return a&&"[object Window]"==o.call(e)?function(e){try{return i(e)}catch(e){return a.slice()}}(e):i(r(e))}},function(e,t){},function(e,t,n){n(30)("asyncIterator")},function(e,t,n){n(30)("observable")},function(e,t,n){"use strict";t.__esModule=!0;var r=a(n(93)),i=a(n(97)),o=a(n(24));function a(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,o.default)(t)));e.prototype=(0,i.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(r.default?(0,r.default)(e,t):e.__proto__=t)}},function(e,t,n){e.exports={default:n(94),__esModule:!0}},function(e,t,n){n(95),e.exports=n(0).Object.setPrototypeOf},function(e,t,n){var r=n(3);r(r.S,"Object",{setPrototypeOf:n(96).set})},function(e,t,n){var r=n(8),i=n(12),o=function(e,t){if(i(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{(r=n(37)(Function.call,n(48).f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,n){return o(e,n),t?e.__proto__=n:r(e,n),e}}({},!1):void 0),check:o}},function(e,t,n){e.exports={default:n(98),__esModule:!0}},function(e,t,n){n(99);var r=n(0).Object;e.exports=function(e,t){return r.create(e,t)}},function(e,t,n){var r=n(3);r(r.S,"Object",{create:n(27)})},function(e,t,n){!function(){"use strict";var t=function(e){if(!(this instanceof t))return new t(e);if(this.version=1,this.support=!("undefined"==typeof File||"undefined"==typeof Blob||"undefined"==typeof FileList||!Blob.prototype.webkitSlice&&!Blob.prototype.mozSlice&&!Blob.prototype.slice),!this.support)return!1;var n=this;n.files=[],n.defaults={chunkSize:1048576,forceChunkSize:!1,simultaneousUploads:3,fileParameterName:"file",chunkNumberParameterName:"resumableChunkNumber",chunkSizeParameterName:"resumableChunkSize",currentChunkSizeParameterName:"resumableCurrentChunkSize",totalSizeParameterName:"resumableTotalSize",typeParameterName:"resumableType",identifierParameterName:"resumableIdentifier",fileNameParameterName:"resumableFilename",relativePathParameterName:"resumableRelativePath",totalChunksParameterName:"resumableTotalChunks",throttleProgressCallbacks:.5,query:{},headers:{},preprocess:null,method:"multipart",uploadMethod:"POST",testMethod:"GET",prioritizeFirstAndLastChunk:!1,target:"/",testTarget:null,parameterNamespace:"",testChunks:!0,generateUniqueIdentifier:null,getTarget:null,maxChunkRetries:100,chunkRetryInterval:void 0,permanentErrors:[400,404,415,500,501],maxFiles:void 0,withCredentials:!1,xhrTimeout:0,clearInput:!0,chunkFormat:"blob",setChunkTypeFromFile:!1,maxFilesErrorCallback:function(e,t){var r=n.getOpt("maxFiles");alert("Please upload no more than "+r+" file"+(1===r?"":"s")+" at a time.")},minFileSize:1,minFileSizeErrorCallback:function(e,t){alert(e.fileName||e.name+" is too small, please upload files larger than "+r.formatSize(n.getOpt("minFileSize"))+".")},maxFileSize:void 0,maxFileSizeErrorCallback:function(e,t){alert(e.fileName||e.name+" is too large, please upload files less than "+r.formatSize(n.getOpt("maxFileSize"))+".")},fileType:[],fileTypeErrorCallback:function(e,t){alert(e.fileName||e.name+" has type not allowed, please upload files of type "+n.getOpt("fileType")+".")}},n.opts=e||{},n.getOpt=function(e){var n=this;if(e instanceof Array){var i={};return r.each(e,function(e){i[e]=n.getOpt(e)}),i}if(n instanceof d){if(void 0!==n.opts[e])return n.opts[e];n=n.fileObj}if(n instanceof c){if(void 0!==n.opts[e])return n.opts[e];n=n.resumableObj}if(n instanceof t)return void 0!==n.opts[e]?n.opts[e]:n.defaults[e]},n.events=[],n.on=function(e,t){n.events.push(e.toLowerCase(),t)},n.fire=function(){for(var e=[],t=0;t<arguments.length;t++)e.push(arguments[t]);var r=e[0].toLowerCase();for(t=0;t<=n.events.length;t+=2)n.events[t]==r&&n.events[t+1].apply(n,e.slice(1)),"catchall"==n.events[t]&&n.events[t+1].apply(null,e);"fileerror"==r&&n.fire("error",e[2],e[1]),"fileprogress"==r&&n.fire("progress")};var r={stopEvent:function(e){e.stopPropagation(),e.preventDefault()},each:function(e,t){if(void 0!==e.length){for(var n=0;n<e.length;n++)if(!1===t(e[n]))return}else for(n in e)if(!1===t(n,e[n]))return},generateUniqueIdentifier:function(e,t){var r=n.getOpt("generateUniqueIdentifier");if("function"==typeof r)return r(e,t);var i=e.webkitRelativePath||e.fileName||e.name;return e.size+"-"+i.replace(/[^0-9a-zA-Z_-]/gim,"")},contains:function(e,t){var n=!1;return r.each(e,function(e){return e!=t||(n=!0,!1)}),n},formatSize:function(e){return e<1024?e+" bytes":e<1048576?(e/1024).toFixed(0)+" KB":e<1073741824?(e/1024/1024).toFixed(1)+" MB":(e/1024/1024/1024).toFixed(1)+" GB"},getTarget:function(e,t){var r=n.getOpt("target");return"test"===e&&n.getOpt("testTarget")&&(r="/"===n.getOpt("testTarget")?n.getOpt("target"):n.getOpt("testTarget")),"function"==typeof r?r(t):r+(r.indexOf("?")<0?"?":"&")+t.join("&")}},i=function(e){r.stopEvent(e),e.dataTransfer&&e.dataTransfer.items?u(e.dataTransfer.items,e):e.dataTransfer&&e.dataTransfer.files&&u(e.dataTransfer.files,e)},o=function(e){e.preventDefault()};function a(e,t,n,r){var i,o,u,l,c;return e.isFile?e.file(function(e){e.relativePath=t+e.name,n.push(e),r()}):(e.isDirectory?i=e:e instanceof File&&n.push(e),"function"==typeof e.webkitGetAsEntry&&(i=e.webkitGetAsEntry()),i&&i.isDirectory?(o=i,u=t+i.name+"/",l=n,c=r,void o.createReader().readEntries(function(e){if(!e.length)return c();s(e.map(function(e){return a.bind(null,e,u,l)}),c)})):("function"==typeof e.getAsFile&&(e=e.getAsFile())instanceof File&&(e.relativePath=t+e.name,n.push(e)),void r()))}function s(e,t){if(!e||0===e.length)return t();e[0](function(){s(e.slice(1),t)})}function u(e,t){if(e.length){n.fire("beforeAdd");var r=[];s(Array.prototype.map.call(e,function(e){return a.bind(null,e,"",r)}),function(){r.length&&l(r,t)})}}var l=function(e,t){var i=0,o=n.getOpt(["maxFiles","minFileSize","maxFileSize","maxFilesErrorCallback","minFileSizeErrorCallback","maxFileSizeErrorCallback","fileType","fileTypeErrorCallback"]);if(void 0!==o.maxFiles&&o.maxFiles<e.length+n.files.length){if(1!==o.maxFiles||1!==n.files.length||1!==e.length)return o.maxFilesErrorCallback(e,i++),!1;n.removeFile(n.files[0])}var a=[],s=[],u=e.length,l=function(){if(!--u){if(!a.length&&!s.length)return;window.setTimeout(function(){n.fire("filesAdded",a,s)},0)}};r.each(e,function(e){var u=e.name;if(o.fileType.length>0){var d=!1;for(var f in o.fileType){var p="."+o.fileType[f];if(-1!==u.toLowerCase().indexOf(p.toLowerCase(),u.length-p.length)){d=!0;break}}if(!d)return o.fileTypeErrorCallback(e,i++),!1}if(void 0!==o.minFileSize&&e.size<o.minFileSize)return o.minFileSizeErrorCallback(e,i++),!1;if(void 0!==o.maxFileSize&&e.size>o.maxFileSize)return o.maxFileSizeErrorCallback(e,i++),!1;function h(r){n.getFromUniqueIdentifier(r)?s.push(e):function(){e.uniqueIdentifier=r;var i=new c(n,e,r);n.files.push(i),a.push(i),i.container=void 0!==t?t.srcElement:null,window.setTimeout(function(){n.fire("fileAdded",i,t)},0)}(),l()}var m=r.generateUniqueIdentifier(e,t);m&&"function"==typeof m.then?m.then(function(e){h(e)},function(){l()}):h(m)})};function c(e,t,n){var i=this;i.opts={},i.getOpt=e.getOpt,i._prevProgress=0,i.resumableObj=e,i.file=t,i.fileName=t.fileName||t.name,i.size=t.size,i.relativePath=t.relativePath||t.webkitRelativePath||i.fileName,i.uniqueIdentifier=n,i._pause=!1,i.container="";var o=void 0!==n,a=function(e,t){switch(e){case"progress":i.resumableObj.fire("fileProgress",i,t);break;case"error":i.abort(),o=!0,i.chunks=[],i.resumableObj.fire("fileError",i,t);break;case"success":if(o)return;i.resumableObj.fire("fileProgress",i),i.isComplete()&&i.resumableObj.fire("fileSuccess",i,t);break;case"retry":i.resumableObj.fire("fileRetry",i)}};return i.chunks=[],i.abort=function(){var e=0;r.each(i.chunks,function(t){"uploading"==t.status()&&(t.abort(),e++)}),e>0&&i.resumableObj.fire("fileProgress",i)},i.cancel=function(){var e=i.chunks;i.chunks=[],r.each(e,function(e){"uploading"==e.status()&&(e.abort(),i.resumableObj.uploadNextChunk())}),i.resumableObj.removeFile(i),i.resumableObj.fire("fileProgress",i)},i.retry=function(){i.bootstrap();var e=!1;i.resumableObj.on("chunkingComplete",function(){e||i.resumableObj.upload(),e=!0})},i.bootstrap=function(){i.abort(),o=!1,i.chunks=[],i._prevProgress=0;for(var e=i.getOpt("forceChunkSize")?Math.ceil:Math.floor,t=Math.max(e(i.file.size/i.getOpt("chunkSize")),1),n=0;n<t;n++)!function(e){window.setTimeout(function(){i.chunks.push(new d(i.resumableObj,i,e,a)),i.resumableObj.fire("chunkingProgress",i,e/t)},0)}(n);window.setTimeout(function(){i.resumableObj.fire("chunkingComplete",i)},0)},i.progress=function(){if(o)return 1;var e=0,t=!1;return r.each(i.chunks,function(n){"error"==n.status()&&(t=!0),e+=n.progress(!0)}),e=t?1:e>.99999?1:e,e=Math.max(i._prevProgress,e),i._prevProgress=e,e},i.isUploading=function(){var e=!1;return r.each(i.chunks,function(t){if("uploading"==t.status())return e=!0,!1}),e},i.isComplete=function(){var e=!1;return r.each(i.chunks,function(t){var n=t.status();if("pending"==n||"uploading"==n||1===t.preprocessState)return e=!0,!1}),!e},i.pause=function(e){i._pause=void 0===e?!i._pause:e},i.isPaused=function(){return i._pause},i.resumableObj.fire("chunkingStart",i),i.bootstrap(),this}function d(e,t,n,i){var o=this;o.opts={},o.getOpt=e.getOpt,o.resumableObj=e,o.fileObj=t,o.fileObjSize=t.size,o.fileObjType=t.file.type,o.offset=n,o.callback=i,o.lastProgressCallback=new Date,o.tested=!1,o.retries=0,o.pendingRetry=!1,o.preprocessState=0;var a=o.getOpt("chunkSize");return o.loaded=0,o.startByte=o.offset*a,o.endByte=Math.min(o.fileObjSize,(o.offset+1)*a),o.fileObjSize-o.endByte<a&&!o.getOpt("forceChunkSize")&&(o.endByte=o.fileObjSize),o.xhr=null,o.test=function(){o.xhr=new XMLHttpRequest;var e=function(e){o.tested=!0;var t=o.status();"success"==t?(o.callback(t,o.message()),o.resumableObj.uploadNextChunk()):o.send()};o.xhr.addEventListener("load",e,!1),o.xhr.addEventListener("error",e,!1),o.xhr.addEventListener("timeout",e,!1);var t=[],n=o.getOpt("parameterNamespace"),i=o.getOpt("query");"function"==typeof i&&(i=i(o.fileObj,o)),r.each(i,function(e,r){t.push([encodeURIComponent(n+e),encodeURIComponent(r)].join("="))}),t=t.concat([["chunkNumberParameterName",o.offset+1],["chunkSizeParameterName",o.getOpt("chunkSize")],["currentChunkSizeParameterName",o.endByte-o.startByte],["totalSizeParameterName",o.fileObjSize],["typeParameterName",o.fileObjType],["identifierParameterName",o.fileObj.uniqueIdentifier],["fileNameParameterName",o.fileObj.fileName],["relativePathParameterName",o.fileObj.relativePath],["totalChunksParameterName",o.fileObj.chunks.length]].filter(function(e){return o.getOpt(e[0])}).map(function(e){return[n+o.getOpt(e[0]),encodeURIComponent(e[1])].join("=")})),o.xhr.open(o.getOpt("testMethod"),r.getTarget("test",t)),o.xhr.timeout=o.getOpt("xhrTimeout"),o.xhr.withCredentials=o.getOpt("withCredentials");var a=o.getOpt("headers");"function"==typeof a&&(a=a(o.fileObj,o)),r.each(a,function(e,t){o.xhr.setRequestHeader(e,t)}),o.xhr.send(null)},o.preprocessFinished=function(){o.preprocessState=2,o.send()},o.send=function(){var e=o.getOpt("preprocess");if("function"==typeof e)switch(o.preprocessState){case 0:return o.preprocessState=1,void e(o);case 1:return}if(!o.getOpt("testChunks")||o.tested){o.xhr=new XMLHttpRequest,o.xhr.upload.addEventListener("progress",function(e){new Date-o.lastProgressCallback>1e3*o.getOpt("throttleProgressCallbacks")&&(o.callback("progress"),o.lastProgressCallback=new Date),o.loaded=e.loaded||0},!1),o.loaded=0,o.pendingRetry=!1,o.callback("progress");var t=function(e){var t=o.status();if("success"==t||"error"==t)o.callback(t,o.message()),o.resumableObj.uploadNextChunk();else{o.callback("retry",o.message()),o.abort(),o.retries++;var n=o.getOpt("chunkRetryInterval");void 0!==n?(o.pendingRetry=!0,setTimeout(o.send,n)):o.send()}};o.xhr.addEventListener("load",t,!1),o.xhr.addEventListener("error",t,!1),o.xhr.addEventListener("timeout",t,!1);var n=[["chunkNumberParameterName",o.offset+1],["chunkSizeParameterName",o.getOpt("chunkSize")],["currentChunkSizeParameterName",o.endByte-o.startByte],["totalSizeParameterName",o.fileObjSize],["typeParameterName",o.fileObjType],["identifierParameterName",o.fileObj.uniqueIdentifier],["fileNameParameterName",o.fileObj.fileName],["relativePathParameterName",o.fileObj.relativePath],["totalChunksParameterName",o.fileObj.chunks.length]].filter(function(e){return o.getOpt(e[0])}).reduce(function(e,t){return e[o.getOpt(t[0])]=t[1],e},{}),i=o.getOpt("query");"function"==typeof i&&(i=i(o.fileObj,o)),r.each(i,function(e,t){n[e]=t});var a=o.fileObj.file.slice?"slice":o.fileObj.file.mozSlice?"mozSlice":o.fileObj.file.webkitSlice?"webkitSlice":"slice",s=o.fileObj.file[a](o.startByte,o.endByte,o.getOpt("setChunkTypeFromFile")?o.fileObj.file.type:""),u=null,l=[],c=o.getOpt("parameterNamespace");if("octet"===o.getOpt("method"))u=s,r.each(n,function(e,t){l.push([encodeURIComponent(c+e),encodeURIComponent(t)].join("="))});else if(u=new FormData,r.each(n,function(e,t){u.append(c+e,t),l.push([encodeURIComponent(c+e),encodeURIComponent(t)].join("="))}),"blob"==o.getOpt("chunkFormat"))u.append(c+o.getOpt("fileParameterName"),s,o.fileObj.fileName);else if("base64"==o.getOpt("chunkFormat")){var d=new FileReader;d.onload=function(e){u.append(c+o.getOpt("fileParameterName"),d.result),o.xhr.send(u)},d.readAsDataURL(s)}var f=r.getTarget("upload",l),p=o.getOpt("uploadMethod");o.xhr.open(p,f),"octet"===o.getOpt("method")&&o.xhr.setRequestHeader("Content-Type","application/octet-stream"),o.xhr.timeout=o.getOpt("xhrTimeout"),o.xhr.withCredentials=o.getOpt("withCredentials");var h=o.getOpt("headers");"function"==typeof h&&(h=h(o.fileObj,o)),r.each(h,function(e,t){o.xhr.setRequestHeader(e,t)}),"blob"==o.getOpt("chunkFormat")&&o.xhr.send(u)}else o.test()},o.abort=function(){o.xhr&&o.xhr.abort(),o.xhr=null},o.status=function(){return o.pendingRetry?"uploading":o.xhr?o.xhr.readyState<4?"uploading":200==o.xhr.status||201==o.xhr.status?"success":r.contains(o.getOpt("permanentErrors"),o.xhr.status)||o.retries>=o.getOpt("maxChunkRetries")?"error":(o.abort(),"pending"):"pending"},o.message=function(){return o.xhr?o.xhr.responseText:""},o.progress=function(e){void 0===e&&(e=!1);var t=e?(o.endByte-o.startByte)/o.fileObjSize:1;if(o.pendingRetry)return 0;switch(o.xhr&&o.xhr.status||(t*=.95),o.status()){case"success":case"error":return 1*t;case"pending":return 0*t;default:return o.loaded/(o.endByte-o.startByte)*t}},this}return n.uploadNextChunk=function(){var e=!1;if(n.getOpt("prioritizeFirstAndLastChunk")&&(r.each(n.files,function(t){return t.chunks.length&&"pending"==t.chunks[0].status()&&0===t.chunks[0].preprocessState?(t.chunks[0].send(),e=!0,!1):t.chunks.length>1&&"pending"==t.chunks[t.chunks.length-1].status()&&0===t.chunks[t.chunks.length-1].preprocessState?(t.chunks[t.chunks.length-1].send(),e=!0,!1):void 0}),e))return!0;if(r.each(n.files,function(t){if(!1===t.isPaused()&&r.each(t.chunks,function(t){if("pending"==t.status()&&0===t.preprocessState)return t.send(),e=!0,!1}),e)return!1}),e)return!0;var t=!1;return r.each(n.files,function(e){if(!e.isComplete())return t=!0,!1}),t||n.fire("complete"),!1},n.assignBrowse=function(e,t){void 0===e.length&&(e=[e]),r.each(e,function(e){var r;"INPUT"===e.tagName&&"file"===e.type?r=e:((r=document.createElement("input")).setAttribute("type","file"),r.style.display="none",e.addEventListener("click",function(){r.style.opacity=0,r.style.display="block",r.focus(),r.click(),r.style.display="none"},!1),e.appendChild(r));var i=n.getOpt("maxFiles");void 0===i||1!=i?r.setAttribute("multiple","multiple"):r.removeAttribute("multiple"),t?r.setAttribute("webkitdirectory","webkitdirectory"):r.removeAttribute("webkitdirectory");var o=n.getOpt("fileType");void 0!==o&&o.length>=1?r.setAttribute("accept",o.map(function(e){return"."+e}).join(",")):r.removeAttribute("accept"),r.addEventListener("change",function(e){l(e.target.files,e),n.getOpt("clearInput")&&(e.target.value="")},!1)})},n.assignDrop=function(e){void 0===e.length&&(e=[e]),r.each(e,function(e){e.addEventListener("dragover",o,!1),e.addEventListener("dragenter",o,!1),e.addEventListener("drop",i,!1)})},n.unAssignDrop=function(e){void 0===e.length&&(e=[e]),r.each(e,function(e){e.removeEventListener("dragover",o),e.removeEventListener("dragenter",o),e.removeEventListener("drop",i)})},n.isUploading=function(){var e=!1;return r.each(n.files,function(t){if(t.isUploading())return e=!0,!1}),e},n.upload=function(){if(!n.isUploading()){n.fire("uploadStart");for(var e=1;e<=n.getOpt("simultaneousUploads");e++)n.uploadNextChunk()}},n.pause=function(){r.each(n.files,function(e){e.abort()}),n.fire("pause")},n.cancel=function(){n.fire("beforeCancel");for(var e=n.files.length-1;e>=0;e--)n.files[e].cancel();n.fire("cancel")},n.progress=function(){var e=0,t=0;return r.each(n.files,function(n){e+=n.progress()*n.size,t+=n.size}),t>0?e/t:0},n.addFile=function(e,t){l([e],t)},n.addFiles=function(e,t){l(e,t)},n.removeFile=function(e){for(var t=n.files.length-1;t>=0;t--)n.files[t]===e&&n.files.splice(t,1)},n.getFromUniqueIdentifier=function(e){var t=!1;return r.each(n.files,function(n){n.uniqueIdentifier==e&&(t=n)}),t},n.getSize=function(){var e=0;return r.each(n.files,function(t){e+=t.size}),e},n.handleDropEvent=function(e){i(e)},n.handleChangeEvent=function(e){l(e.target.files,e),e.target.value=""},n.updateQuery=function(e){n.opts.query=e},this};e.exports=t}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.load=s,t.loadView=u;var r=n(102),i=n(103),o=n(110),a=n(112);function s(e,t={expanded:!1}){let n;try{n=new DataView(e)}catch(e){return{}}return u(n,t)}function u(e,t={expanded:!1}){let n=!1,s={};r.a.check(e);const{tiffHeaderOffset:u,iptcDataOffset:l,xmpDataOffset:c,xmpFieldLength:d}=r.a.parseAppMarkers(e);if(void 0!==u){n=!0;const r=i.a.read(e,u);t.expanded?s.exif=r:s=Object.assign({},s,r)}if(void 0!==l){n=!0;const r=o.a.read(e,l);t.expanded?s.iptc=r:s=Object.assign({},s,r)}if(void 0!==c){n=!0;const r=a.a.read(e,c,d);t.expanded?s.xmp=r:s=Object.assign({},s,r)}if(!n)throw new Error("No Exif data");return s}t.default={load:s,loadView:u}},function(e,t,n){"use strict";var r=n(49);const i=2,o=65496,a=2,s=4,u=2,l=10,c=18,d=33,f=65504,p=65505,h=65517,m=65519,g=65534,v="Exif",b="http://ns.adobe.com/xap/1.0/",y="Photoshop 3.0";function O(e,t){const n=v.length;return e.getUint16(t,!1)===p&&Object(r.a)(e,t+s,n)===v&&0===e.getUint8(t+s+n,!1)}function S(e,t){const n=b.length;return e.getUint16(t,!1)===p&&Object(r.a)(e,t+s,n)===b&&0===e.getUint8(t+s+n,!1)}function k(e,t){const n=y.length;return e.getUint16(t,!1)===h&&Object(r.a)(e,t+s,n)===y&&0===e.getUint8(t+s+n,!1)}function w(e,t){const n=e.getUint16(t,!1);return n>=f&&n<=m||n===g}t.a={check:function(e){if(e.byteLength<i||e.getUint16(0,!1)!==o)throw new Error("Invalid image format")},parseAppMarkers:function(e){let t,n,r,i,o,f=a;for(;f+s+5<=e.byteLength;){if(O(e,f))t=e.getUint16(f+u,!1),n=f+l;else if(S(e,f))t=e.getUint16(f+u,!1),i=f+d,o=t-(d-u);else if(k(e,f))t=e.getUint16(f+u,!1),r=f+c;else{if(!w(e,f))break;t=e.getUint16(f+u,!1)}f+=u+t}return{hasAppMarkers:f>a,tiffHeaderOffset:n,iptcDataOffset:r,xmpDataOffset:i,xmpFieldLength:o}}}},function(e,t,n){"use strict";var r=n(50),i=n(104),o=n(105);const a="Exif IFD Pointer",s="GPS Info IFD Pointer",u="Interoperability IFD Pointer",l={1:i.a.getByteAt,2:i.a.getAsciiAt,3:i.a.getShortAt,4:i.a.getLongAt,5:i.a.getRationalAt,7:i.a.getUndefinedAt,9:i.a.getSlongAt,10:i.a.getSrationalAt};function c(e,t,n,r,o){const a=i.a.getTypeSize("SHORT"),s={},u=i.a.getShortAt(e,r,o);r+=a;for(let i=0;i<u;i++){const i=d(e,t,n,r,o);void 0!==i&&(s[i.name]={value:i.value,description:i.description}),r+=12}return s}function d(e,t,n,r,a){const s=i.a.getTypeSize("SHORT"),u=s+i.a.getTypeSize("SHORT"),l=u+i.a.getTypeSize("LONG"),c=i.a.getShortAt(e,r,a),d=i.a.getShortAt(e,r+s,a),p=i.a.getLongAt(e,r+u,a);let h;if(void 0!==i.a.typeSizes[d]){if(b=d,y=p,i.a.typeSizes[b]*y<=i.a.getTypeSize("LONG"))h=f(e,r+l,d,p,a);else{const t=i.a.getLongAt(e,r+l,a);m=e,g=d,v=p,h=n+t+i.a.typeSizes[g]*v<=m.byteLength?f(e,n+t,d,p,a):"<faulty value>"}var m,g,v,b,y;let s,u;return d===i.a.tagTypes.ASCII&&(h=function(e){try{return e.map(e=>decodeURIComponent(escape(e)))}catch(t){return e}}(h=function(e){const t=[];let n=0;for(const r of e)"\0"!==r?(void 0===t[n]&&(t[n]=""),t[n]+=r):n++;return t}(h))),void 0!==o.a[t][c]?(void 0!==o.a[t][c].name&&void 0!==o.a[t][c].description?(s=o.a[t][c].name,u=o.a[t][c].description(h)):(s=o.a[t][c],u=h instanceof Array?h.join(", "):h),{name:s,value:h,description:u}):{name:`undefined-${c}`,value:h,description:h}}}function f(e,t,n,r,o){let a=[];for(let s=0;s<r;s++)a.push(l[n](e,t,o)),t+=i.a.typeSizes[n];return n===i.a.tagTypes.ASCII?a=i.a.getAsciiValue(a):1===a.length&&(a=a[0]),a}t.a={read:function(e,t){const n=r.a.getByteOrder(e,t);let o=(l=e,d=t,f=n,c(l,"0th",d,(p=l,h=d,m=f,h+i.a.getLongAt(p,h+4,m)),f));var l,d,f,p,h,m;return P=o,F=e,x=t,_=n,O=o=void 0!==P[a]?Object.assign(P,c(F,"exif",x,x+P[a].value,_)):P,S=e,k=t,w=n,g=o=void 0!==O[s]?Object.assign(O,c(S,"gps",k,k+O[s].value,w)):O,v=e,b=t,y=n,o=void 0!==g[u]?Object.assign(g,c(v,"interoperability",b,b+g[u].value,y)):g;var g,v,b,y;var O,S,k,w;var P,F,x,_}}},function(e,t,n){"use strict";var r=n(50);const i={1:1,2:1,3:2,4:4,5:8,7:1,9:4,10:8},o={BYTE:1,ASCII:2,SHORT:3,LONG:4,RATIONAL:5,UNDEFINED:7,SLONG:9,SRATIONAL:10};function a(e,t){return e.getUint8(t)}function s(e,t,n){return e.getUint32(t,n===r.a.LITTLE_ENDIAN)}function u(e,t,n){return e.getInt32(t,n===r.a.LITTLE_ENDIAN)}t.a={getAsciiValue:function(e){return e.map(e=>String.fromCharCode(e))},getByteAt:a,getAsciiAt:function(e,t){return e.getUint8(t)},getShortAt:function(e,t,n){return e.getUint16(t,n===r.a.LITTLE_ENDIAN)},getLongAt:s,getRationalAt:function(e,t,n){return s(e,t,n)/s(e,t+4,n)},getUndefinedAt:function(e,t){return a(e,t)},getSlongAt:u,getSrationalAt:function(e,t,n){return u(e,t,n)/u(e,t+4,n)},typeSizes:i,tagTypes:o,getTypeSize:function(e){if(void 0===o[e])throw new Error("No such type found.");return i[o[e]]}}},function(e,t,n){"use strict";var r=n(106),i=n(107),o=n(108),a=n(109);t.a={"0th":r.a,exif:i.a,gps:o.a,interoperability:a.a}},function(e,t,n){"use strict";t.a={256:"ImageWidth",257:"ImageLength",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",270:"ImageDescription",271:"Make",272:"Model",273:"StripOffsets",274:{name:"Orientation",description:e=>1===e?"top-left":2===e?"top-right":3===e?"bottom-right":4===e?"bottom-left":5===e?"left-top":6===e?"right-top":7===e?"right-bottom":8===e?"left-bottom":"Undefined"},277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",296:{name:"ResolutionUnit",description:e=>2===e?"inches":3===e?"centimeters":"Unknown"},301:"TransferFunction",305:"Software",306:"DateTime",315:"Artist",318:"WhitePoint",319:"PrimaryChromaticities",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:{name:"YCbCrPositioning",description:e=>1===e?"centered":2===e?"co-sited":"undefined "+e},532:"ReferenceBlackWhite",33432:{name:"Copyright",description:e=>e.join("; ")},34665:"Exif IFD Pointer",34853:"GPS Info IFD Pointer"}},function(e,t,n){"use strict";var r=n(31);t.a={33434:"ExposureTime",33437:"FNumber",34850:{name:"ExposureProgram",description:e=>0===e?"Undefined":1===e?"Manual":2===e?"Normal program":3===e?"Aperture priority":4===e?"Shutter priority":5===e?"Creative program":6===e?"Action program":7===e?"Portrait mode":8===e?"Landscape mode":"Unknown"},34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:{name:"OECF",description:()=>"[Raw OECF table data]"},36864:{name:"ExifVersion",description:e=>Object(r.b)(e)},36867:"DateTimeOriginal",36868:"DateTimeDigitized",37121:{name:"ComponentsConfiguration",description:e=>e.map(e=>49===e?"Y":50===e?"Cb":51===e?"Cr":52===e?"R":53===e?"G":54===e?"B":void 0).join("")},37122:"CompressedBitsPerPixel",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBiasValue",37381:"MaxApertureValue",37382:"SubjectDistance",37383:{name:"MeteringMode",description:e=>1===e?"Average":2===e?"CenterWeightedAverage":3===e?"Spot":4===e?"MultiSpot":5===e?"Pattern":6===e?"Partial":255===e?"Other":"Unknown"},37384:{name:"LightSource",description:e=>1===e?"Daylight":2===e?"Fluorescent":3===e?"Tungsten (incandescent light)":4===e?"Flash":9===e?"Fine weather":10===e?"Cloudy weather":11===e?"Shade":12===e?"Daylight fluorescent (D 5700 – 7100K)":13===e?"Day white fluorescent (N 4600 – 5400K)":14===e?"Cool white fluorescent (W 3900 – 4500K)":15===e?"White fluorescent (WW 3200 – 3700K)":17===e?"Standard light A":18===e?"Standard light B":19===e?"Standard light C":20===e?"D55":21===e?"D65":22===e?"D75":23===e?"D50":24===e?"ISO studio tungsten":255===e?"Other light source":"Unknown"},37385:{name:"Flash",description:e=>0===e?"Flash did not fire":1===e?"Flash fired":5===e?"Strobe return light not detected":7===e?"Strobe return light detected":9===e?"Flash fired, compulsory flash mode":13===e?"Flash fired, compulsory flash mode, return light not detected":15===e?"Flash fired, compulsory flash mode, return light detected":16===e?"Flash did not fire, compulsory flash mode":24===e?"Flash did not fire, auto mode":25===e?"Flash fired, auto mode":29===e?"Flash fired, auto mode, return light not detected":31===e?"Flash fired, auto mode, return light detected":32===e?"No flash function":65===e?"Flash fired, red-eye reduction mode":69===e?"Flash fired, red-eye reduction mode, return light not detected":71===e?"Flash fired, red-eye reduction mode, return light detected":73===e?"Flash fired, compulsory flash mode, red-eye reduction mode":77===e?"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected":79===e?"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected":89===e?"Flash fired, auto mode, red-eye reduction mode":93===e?"Flash fired, auto mode, return light not detected, red-eye reduction mode":95===e?"Flash fired, auto mode, return light detected, red-eye reduction mode":"Unknown"},37386:"FocalLength",37396:{name:"SubjectArea",description:e=>2===e.length?`Location; X: ${e[0]}, Y: ${e[1]}`:3===e.length?`Circle; X: ${e[0]}, Y: ${e[1]}, diameter: ${e[2]}`:4===e.length?`Rectangle; X: ${e[0]}, Y: ${e[1]}, width: ${e[2]}, height: ${e[3]}`:"Unknown"},37500:{name:"MakerNote",description:()=>"[Raw maker note data]"},37510:{name:"UserComment",description:r.a},37520:"SubSecTime",37521:"SubSecTimeOriginal",37522:"SubSecTimeDigitized",40960:{name:"FlashpixVersion",description:e=>e.map(e=>String.fromCharCode(e)).join("")},40961:{name:"ColorSpace",description:e=>1===e?"sRGB":65535===e?"Uncalibrated":"Unknown"},40962:"PixelXDimension",40963:"PixelYDimension",40964:"RelatedSoundFile",40965:"Interoperability IFD Pointer",41483:"FlashEnergy",41484:{name:"SpatialFrequencyResponse",description:()=>"[Raw SFR table data]"},41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:{name:"FocalPlaneResolutionUnit",description:e=>2===e?"inches":3===e?"centimeters":"Unknown"},41492:{name:"SubjectLocation",description:([e,t])=>`X: ${e}, Y: ${t}`},41493:"ExposureIndex",41495:{name:"SensingMethod",description:e=>1===e?"Undefined":2===e?"One-chip color area sensor":3===e?"Two-chip color area sensor":4===e?"Three-chip color area sensor":5===e?"Color sequential area sensor":7===e?"Trilinear sensor":8===e?"Color sequential linear sensor":"Unknown"},41728:{name:"FileSource",description:e=>3===e?"DSC":"Unknown"},41729:{name:"SceneType",description:e=>1===e?"A directly photographed image":"Unknown"},41730:{name:"CFAPattern",description:()=>"[Raw CFA pattern table data]"},41985:{name:"CustomRendered",description:e=>0===e?"Normal process":1===e?"Custom process":"Unknown"},41986:{name:"ExposureMode",description:e=>0===e?"Auto exposure":1===e?"Manual exposure":2===e?"Auto bracket":"Unknown"},41987:{name:"WhiteBalance",description:e=>0===e?"Auto white balance":1===e?"Manual white balance":"Unknown"},41988:{name:"DigitalZoomRatio",description:e=>0===e?"Digital zoom was not used":e},41989:{name:"FocalLengthIn35mmFilm",description:e=>0===e?"Unknown":e},41990:{name:"SceneCaptureType",description:e=>0===e?"Standard":1===e?"Landscape":2===e?"Portrait":3===e?"Night scene":"Unknown"},41991:{name:"GainControl",description:e=>0===e?"None":1===e?"Low gain up":2===e?"High gain up":3===e?"Low gain down":4===e?"High gain down":"Unknown"},41992:{name:"Contrast",description:e=>0===e?"Normal":1===e?"Soft":2===e?"Hard":"Unknown"},41993:{name:"Saturation",description:e=>0===e?"Normal":1===e?"Low saturation":2===e?"High saturation":"Unknown"},41994:{name:"Sharpness",description:e=>0===e?"Normal":1===e?"Soft":2===e?"Hard":"Unknown"},41995:{name:"DeviceSettingDescription",description:()=>"[Raw device settings table data]"},41996:{name:"SubjectDistanceRange",description:e=>1===e?"Macro":2===e?"Close view":3===e?"Distant view":"Unknown"},42016:"ImageUniqueID"}},function(e,t,n){"use strict";var r=n(31);t.a={0:{name:"GPSVersionID",description:e=>2===e[0]&&2===e[1]&&0===e[2]&&0===e[3]?"Version 2.2":"Unknown"},1:{name:"GPSLatitudeRef",description:e=>{const t=e.join("");return"N"===t?"North latitude":"S"===t?"South latitude":"Unknown"}},2:{name:"GPSLatitude",description:e=>e[0]+e[1]/60+e[2]/3600},3:{name:"GPSLongitudeRef",description:e=>{const t=e.join("");return"E"===t?"East longitude":"W"===t?"West longitude":"Unknown"}},4:{name:"GPSLongitude",description:e=>e[0]+e[1]/60+e[2]/3600},5:{name:"GPSAltitudeRef",description:e=>0===e?"Sea level":1===e?"Sea level reference (negative value)":"Unknown"},6:{name:"GPSAltitude",description:e=>e+" m"},7:{name:"GPSTimeStamp",description:e=>e.map(e=>1===`${e}`.length?`0${e}`:e).join(":")},8:"GPSSatellites",9:{name:"GPSStatus",description:e=>{const t=e.join("");return"A"===t?"Measurement in progress":"V"===t?"Measurement Interoperability":"Unknown"}},10:{name:"GPSMeasureMode",description:e=>{const t=e.join("");return"2"===t?"2-dimensional measurement":"3"===t?"3-dimensional measurement":"Unknown"}},11:"GPSDOP",12:{name:"GPSSpeedRef",description:e=>{const t=e.join("");return"K"===t?"Kilometers per hour":"M"===t?"Miles per hour":"N"===t?"Knots":"Unknown"}},13:"GPSSpeed",14:{name:"GPSTrackRef",description:e=>{const t=e.join("");return"T"===t?"True direction":"M"===t?"Magnetic direction":"Unknown"}},15:"GPSTrack",16:{name:"GPSImgDirectionRef",description:e=>{const t=e.join("");return"T"===t?"True direction":"M"===t?"Magnetic direction":"Unknown"}},17:"GPSImgDirection",18:"GPSMapDatum",19:{name:"GPSDestLatitudeRef",description:e=>{const t=e.join("");return"N"===t?"North latitude":"S"===t?"South latitude":"Unknown"}},20:{name:"GPSDestLatitude",description:e=>e[0]+e[1]/60+e[2]/3600},21:{name:"GPSDestLongitudeRef",description:e=>{const t=e.join("");return"E"===t?"East longitude":"W"===t?"West longitude":"Unknown"}},22:{name:"GPSDestLongitude",description:e=>e[0]+e[1]/60+e[2]/3600},23:{name:"GPSDestBearingRef",description:e=>{const t=e.join("");return"T"===t?"True direction":"M"===t?"Magnetic direction":"Unknown"}},24:"GPSDestBearing",25:{name:"GPSDestDistanceRef",description:e=>{const t=e.join("");return"K"===t?"Kilometers":"M"===t?"Miles":"N"===t?"Knots":"Unknown"}},26:"GPSDestDistance",27:{name:"GPSProcessingMethod",description:r.a},28:{name:"GPSAreaInformation",description:r.a},29:"GPSDateStamp",30:{name:"GPSDifferential",description:e=>0===e?"Measurement without differential correction":1===e?"Differential correction applied":"Unknown"}}},function(e,t,n){"use strict";t.a={1:"InteroperabilityIndex"}},function(e,t,n){"use strict";var r=n(111);const i=943868237,o=4,a=o+8,s=1028,u=5;function l(e,t){if(e.getUint32(t,!1)!==i)throw new Error("Not an IPTC resource block.");return{type:e.getUint16(t+o,!1),size:e.getUint16(t+10,!1)}}function c(e){return e%2!=0?1:0}function d(e,t,n){const i=e.getUint16(t+1,!1),o=e.getUint16(t+3,!1),a=function(e,t,n){const r=[];for(let i=0;i<n;i++)r.push(e.getUint8(t+i));return r}(e,t+u,o);let s,l,c;void 0!==r.a.iptc[i]?(void 0!==r.a.iptc[i].name&&void 0!==r.a.iptc[i].description?(l=r.a.iptc[i].name,c=r.a.iptc[i].description(a,n)):(l=void 0!==r.a.iptc[i].name?r.a.iptc[i].name:r.a.iptc[i],c=a instanceof Array?function(e){try{return decodeURIComponent(escape(e))}catch(t){return e}}(c=a.map(e=>String.fromCharCode(e)).join("")):a),s={name:l,value:a,description:c},void 0!==r.a.iptc[i].repeatable&&(s.repeatable=!0)):s={name:`undefined-${i}`,value:a,description:a};return{tag:s,tagSize:o}}t.a={read:function(e,t){try{const{naaBlock:n,dataOffset:r}=function(e,t){for(;t+a<=e.byteLength;){const n=l(e,t);if(n.type===s)return{naaBlock:n,dataOffset:t};t+=a+n.size+c(n.size)}throw new Error("No IPTC NAA resource block.")}(e,t);return function(e,t,n){const r={},i=(n+=a)+t.size;for(;n<i&&n<e.byteLength;){const{tag:t,tagSize:i}=d(e,n,r);void 0===r[t.name]||void 0===t.repeatable?r[t.name]={value:t.value,description:t.description}:(r[t.name]instanceof Array||(r[t.name]=[{value:r[t.name].value,description:r[t.name].description}]),r[t.name].push({value:t.value,description:t.description})),n+=u+i}return r}(e,n,r)}catch(e){return{}}}}},function(e,t,n){"use strict";var r=n(31);function i(e){const t=Object(r.b)(e);return t.length>=8?t.substr(0,4)+"-"+t.substr(4,2)+"-"+t.substr(6,2):t}function o(e){const t=Object(r.b)(e);let n=t;return t.length>=6&&(n=t.substr(0,2)+":"+t.substr(2,2)+":"+t.substr(4,2),11===t.length&&(n+=t.substr(6,1)+t.substr(7,2)+":"+t.substr(9,2))),n}t.a={iptc:{346:{name:"Coded Character Set",description:e=>{const t=Object(r.b)(e);return"%G"===t?"UTF-8":"%/G"===t?"UTF-8 Level 1":"%/H"===t?"UTF-8 Level 2":"%/I"===t?"UTF-8 Level 3":"Unknown"}},512:{name:"Record Version",description:e=>((e[0]<<8)+e[1]).toString()},515:"Object Type Reference",516:"Object Attribute Reference",517:"Object Name",519:"Edit Status",520:{name:"Editorial Update",description:e=>"01"===Object(r.b)(e)?"Additional Language":"Unknown"},522:"Urgency",524:{name:"Subject Reference",repeatable:!0,description:e=>{const t=Object(r.b)(e).split(":");return t[2]+(t[3]?"/"+t[3]:"")+(t[4]?"/"+t[4]:"")}},527:"Category",532:{name:"Supplemental Category",repeatable:!0},534:"Fixture Identifier",537:{name:"Keywords",repeatable:!0},538:{name:"Content Location Code",repeatable:!0},539:{name:"Content Location Name",repeatable:!0},542:"Release Date",547:"Release Time",549:"Expiration Date",550:"Expiration Time",552:"Special Instructions",554:{name:"Action Advised",description:e=>{const t=Object(r.b)(e);return"01"===t?"Object Kill":"02"===t?"Object Replace":"03"===t?"Object Append":"04"===t?"Object Reference":"Unknown"}},557:{name:"Reference Service",repeatable:!0},559:{name:"Reference Date",repeatable:!0},562:{name:"Reference Number",repeatable:!0},567:{name:"Date Created",description:i},572:{name:"Time Created",description:o},574:{name:"Digital Creation Date",description:i},575:{name:"Digital Creation Time",description:o},577:"Originating Program",582:"Program Version",587:{name:"Object Cycle",description:e=>{const t=Object(r.b)(e);return"a"===t?"morning":"p"===t?"evening":"b"===t?"both":"Unknown"}},592:{name:"By-line",repeatable:!0},597:{name:"By-line Title",repeatable:!0},602:"City",604:"Sub-location",607:"Province/State",612:"Country/Primary Location Code",613:"Country/Primary Location Name",615:"Original Transmission Reference",617:"Headline",622:"Credit",627:"Source",628:"Copyright Notice",630:{name:"Contact",repeatable:!0},632:"Caption/Abstract",634:{name:"Writer/Editor",repeatable:!0},637:{name:"Rasterized Caption",description:e=>e},642:"Image Type",643:{name:"Image Orientation",description:e=>{const t=Object(r.b)(e);return"P"===t?"Portrait":"L"===t?"Landscape":"S"===t?"Square":"Unknown"}},647:"Language Identifier",662:{name:"Audio Type",description:e=>{const t=Object(r.b)(e),n=t.charAt(0),i=t.charAt(1);let o="";return"1"===n?o+="Mono":"2"===n&&(o+="Stereo"),"A"===i?o+=", actuality":"C"===i?o+=", question and answer session":"M"===i?o+=", music, transmitted by itself":"Q"===i?o+=", response to a question":"R"===i?o+=", raw sound":"S"===i?o+=", scener":"V"===i?o+=", voicer":"W"===i&&(o+=", wrap"),""!==o?o:t}},663:{name:"Audio Sampling Rate",description:e=>parseInt(Object(r.b)(e),10)+" Hz"},664:{name:"Audio Sampling Resolution",description:e=>{const t=parseInt(Object(r.b)(e),10);return t+(1===t?" bit":" bits")}},665:{name:"Audio Duration",description:e=>{const t=Object(r.b)(e);return t.length>=6?t.substr(0,2)+":"+t.substr(2,2)+":"+t.substr(4,2):t}},666:"Audio Outcue",712:{name:"ObjectData Preview File Format",description:e=>{const t=Object(r.b)(e);return"00"===t?"No ObjectData":"01"===t?"IPTC-NAA Digital Newsphoto Parameter Record":"02"===t?"IPTC7901 Recommended Message Format":"03"===t?"Tagged Image File Format (Adobe/Aldus Image data)":"04"===t?"Illustrator (Adobe Graphics data)":"05"===t?"AppleSingle (Apple Computer Inc)":"06"===t?"NAA 89-3 (ANPA 1312)":"07"===t?"MacBinary II":"08"===t?"IPTC Unstructured Character Oriented File Format (UCOFF)":"09"===t?"United Press International ANPA 1312 variant":"10"===t?"United Press International Down-Load Message":"11"===t?"JPEG File Interchange (JFIF)":"12"===t?"Photo-CD Image-Pac (Eastman Kodak)":"13"===t?"Microsoft Bit Mapped Graphics File [*.BMP]":"14"===t?"Digital Audio File [*.WAV] (Microsoft & Creative Labs)":"15"===t?"Audio plus Moving Video [*.AVI] (Microsoft)":"16"===t?"PC DOS/Windows Executable Files [*.COM][*.EXE]":"17"===t?"Compressed Binary File [*.ZIP] (PKWare Inc)":"18"===t?"Audio Interchange File Format AIFF (Apple Computer Inc)":"19"===t?"RIFF Wave (Microsoft Corporation)":"20"===t?"Freehand (Macromedia/Aldus)":"21"===t?'Hypertext Markup Language "HTML" (The Internet Society)':"22"===t?"MPEG 2 Audio Layer 2 (Musicom), ISO/IEC":"23"===t?"MPEG 2 Audio Layer 3, ISO/IEC":"24"===t?"Portable Document File (*.PDF) Adobe":"25"===t?"News Industry Text Format (NITF)":"26"===t?"Tape Archive (*.TAR)":"27"===t?"Tidningarnas Telegrambyrå NITF version (TTNITF DTD)":"28"===t?"Ritzaus Bureau NITF version (RBNITF DTD)":"29"===t?"Corel Draw [*.CDR]":"Unknown format "+t}},713:{name:"ObjectData Preview File Format Version",description:(e,t)=>{const n={"00":{"00":"1"},"01":{"01":"1","02":"2","03":"3","04":"4"},"02":{"04":"4"},"03":{"01":"5.0","02":"6.0"},"04":{"01":"1.40"},"05":{"01":"2"},"06":{"01":"1"},11:{"01":"1.02"},20:{"01":"3.1","02":"4.0","03":"5.0","04":"5.5"},21:{"02":"2.0"}},i=Object(r.b)(e);if(t["ObjectData Preview File Format"]){const e=Object(r.b)(t["ObjectData Preview File Format"].value);if(n[e]&&n[e][i])return n[e][i]}return i}},714:"ObjectData Preview Data"}}},function(e,t,n){"use strict";var r=n(49),i=n(113);function o(e,t=!1){const n=function(e){const t=[];for(let n=0;n<e.childNodes.length;n++)t.push(e.childNodes[n]);return t}(e);return 1===(r=n).length&&"#text"===r[0].nodeName?t?{}:n[0].nodeValue:function(e){const t={};return e.forEach(e=>{if((r=e).nodeName&&"#text"!==r.nodeName){const r={attributes:function(e){const t={};for(let n=0;n<e.attributes.length;n++)t[e.attributes[n].nodeName]=e.attributes[n].value;return t}(n=e),value:o(n)};void 0!==t[e.nodeName]?(Array.isArray(t[e.nodeName])||(t[e.nodeName]=[t[e.nodeName]]),t[e.nodeName].push(r)):t[e.nodeName]=r}}),t;var n;var r}(n);var r}function a(e){const t={};if("string"==typeof e)return e;for(const n in e){let r=e[n];Array.isArray(r)||(r=[r]),r.forEach(e=>{Object.assign(t,s(e.attributes)),"object"==typeof e.value&&Object.assign(t,f(e.value))})}return t}function s(e){const t={};for(const r in e)"rdf:parseType"===(n=r)||u(n)||(t[l(r)]={value:e[r],attributes:{},description:c(e[r],r)});var n;return t}function u(e){return"xmlns"===e.split(":")[0]}function l(e){return e.split(":")[1]}function c(e,t){if(Array.isArray(e))return e.map(e=>void 0!==e.value?c(e.value):c(e)).join(", ");if("object"==typeof e)return function(e){const t=[];for(const n in e)t.push(`${d(n)}: ${e[n].value}`);return t.join("; ")}(e);try{return t&&"function"==typeof i.a[t]?i.a[t](e):decodeURIComponent(escape(e))}catch(t){return e}}function d(e){return"CiAdrCity"===e?"CreatorCity":"CiAdrCtry"===e?"CreatorCountry":"CiAdrExtadr"===e?"CreatorAddress":"CiAdrPcode"===e?"CreatorPostalCode":"CiAdrRegion"===e?"CreatorRegion":"CiEmailWork"===e?"CreatorWorkEmail":"CiTelWork"===e?"CreatorWorkPhone":"CiUrlWork"===e?"CreatorWorkUrl":e}function f(e){const t={};for(const n in e)u(n)||(t[l(n)]=p(e[n],n));return t}function p(e,t){return h(e)?m(e,t):"Resource"===(r=e).attributes["rdf:parseType"]||void 0!==r.value["rdf:Description"]&&void 0===r.value["rdf:Description"].value["rdf:value"]?function(e,t){const n={value:{},attributes:{}};void 0!==e.value["rdf:Description"]&&(Object.assign(n.value,s(e.value["rdf:Description"].attributes)),Object.assign(n.attributes,g(e)),e=e.value["rdf:Description"]);return Object.assign(n.value,f(e.value)),n.description=c(n.value,t),n}(e,t):(n=e,0===Object.keys(n.value).length&&void 0===n.attributes["rdf:resource"]?function(e,t){const n=s(e.attributes);return{value:n,attributes:{},description:c(n,t)}}(e,t):void 0!==v(e.value)?function(e,t){let n=v(e.value).value["rdf:li"];const r=g(e),i=[];Array.isArray(n)||(n=[n]);return n.forEach(e=>{i.push(h(o=e)?m(o):"Resource"===o.attributes["rdf:parseType"]?f(o.value):{value:o.value,attributes:g(o),description:c(o.value)})}),{value:i,attributes:r,description:c(i,t)};var o}(e,t):function(e,t){const n=b(e)||a(e.value);return{value:n,attributes:g(e),description:c(n,t)}}(e,t));var n,r}function h(e){return"Resource"===e.attributes["rdf:parseType"]&&void 0!==e.value["rdf:value"]||void 0!==e.value["rdf:Description"]&&void 0!==e.value["rdf:Description"].value["rdf:value"]}function m(e,t){const n=g(e);void 0!==e.value["rdf:Description"]&&(e=e.value["rdf:Description"]),Object.assign(n,g(e),function(e){const t={};for(const n in e.value)"rdf:value"===n||u(n)||(t[l(n)]=e.value[n].value);return t}(e));const r=b((i=e).value["rdf:value"])||i.value["rdf:value"].value;var i;return{value:r,attributes:n,description:c(r,t)}}function g(e){const t={};for(const n in e.attributes)"rdf:parseType"===n||"rdf:resource"===n||u(n)||(t[l(n)]=e.attributes[n]);return t}function v(e){return e["rdf:Bag"]||e["rdf:Seq"]||e["rdf:Alt"]}function b(e){return e.attributes&&e.attributes["rdf:resource"]}t.a={read:function(e,t,n){try{const i=function(e,t,n){if("undefined"==typeof DOMParser)throw new Error;const i=new DOMParser,o=Object(r.a)(e,t,n),a=i.parseFromString(o,"application/xml");if("parsererror"===a.documentElement.nodeName)throw new Error;return a}(e,t,n),s=function e(t){for(let n=0;n<t.childNodes.length;n++){if("x:xmpmeta"===t.childNodes[n].tagName)return e(t.childNodes[n]);if("rdf:RDF"===t.childNodes[n].tagName)return t.childNodes[n]}throw new Error}(i);return a(o(s,!0))}catch(e){return{}}}}},function(e,t,n){"use strict";function r(e){const[t,n]=e.split(",");if(void 0!==t&&void 0!==n){const e=parseFloat(t),r=parseFloat(n),i=n.charAt(n.length-1);if(!Number.isNaN(e)&&!Number.isNaN(r))return""+(e+r/60)+i}return e}t.a={"tiff:Orientation":e=>"1"===e?"Horizontal (normal)":"2"===e?"Mirror horizontal":"3"===e?"Rotate 180":"4"===e?"Mirror vertical":"5"===e?"Mirror horizontal and rotate 270 CW":"6"===e?"Rotate 90 CW":"7"===e?"Mirror horizontal and rotate 90 CW":"8"===e?"Rotate 270 CW":e,"exif:GPSLatitude":r,"exif:GPSLongitude":r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=l(n(24)),i=l(n(41)),o=l(n(40)),a=l(n(32)),s=l(n(43)),u=l(n(44));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(){function e(){(0,s.default)(this,e),this.cachedVDOM=null}return(0,u.default)(e,[{key:"setElementProps",value:function(e,t){var n=this;t&&(0,a.default)(t).forEach(function(r){var i=t[r];n.setElementProp(e,r,i)})}},{key:"setElementProp",value:function(e,t,n){this.isCustomProp(t)||e.setAttribute&&("className"===t?e.setAttribute("class",n):"boolean"==typeof n?this.setBooleanProp(e,t,n):e.setAttribute(t,n))}},{key:"setBooleanProp",value:function(e,t,n){n?(e.setAttribute(t,n),e[t]=!0):e[t]=!1}},{key:"removeBooleanProp",value:function(e,t){e.removeAttribute(t),e[t]=!1}},{key:"removeProp",value:function(e,t,n){e.removeAttribute&&("className"===t?e.removeAttribute("class"):"boolean"==typeof n?this.removeBooleanProp(e,t):e.removeAttribute(t))}},{key:"updateProp",value:function(e,t,n,r){this.isConditionalProp(t)?this.setElementProp(e,t,n):n?r&&(0,o.default)(n)===(0,o.default)(r)||this.setElementProp(e,t,n):this.removeProp(e,t,r)}},{key:"updateProps",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=(0,i.default)({},n,r);(0,a.default)(o).forEach(function(i){var o=n&&!t.isNil(n[i])&&n[i]||null,a=r&&!t.isNil(r[i])&&r[i]||null;o!=a&&t.updateProp(e,i,o,a)})}},{key:"isConditionalProp",value:function(e){return/^ez-show/.test(e)}},{key:"isEventProp",value:function(e){return/^ez-on-/.test(e)}},{key:"isCustomProp",value:function(e){return"forceUpdate"===e||this.isEventProp(e)}},{key:"isNil",value:function(e){return null===e||void 0===e}},{key:"extractEventName",value:function(e){return e.replace(/^ez-on-/,"").toLowerCase()}},{key:"extractConditionalDisplayType",value:function(e){return"ez-show"===e?e.replace(/^ez-show/,"").toLowerCase():e.replace(/^ez-show-/,"").toLowerCase()}},{key:"updateEventListenerFromProp",value:function(e,t,n,r){e&&e.addEventListener&&(r&&e.removeEventListener(t,r),n&&this.addEventListenerFromProp(e,t,n))}},{key:"updateEventListenersFromProp",value:function(e,t,n){var r=this,o=(0,i.default)({},n,t);(0,a.default)(o).forEach(function(i){if(r.isEventProp(i)){var o=r.extractEventName(i),a=t[i],s=n[i];r.updateEventListenerFromProp(e,o,a,s)}})}},{key:"addEventListenerFromProp",value:function(e,t,n){var r=this.extractEventName(t);"string"==typeof n&&this[n]&&(n=this[n].bind(this)),e.addEventListener(r,n)}},{key:"addEventListenersFromProps",value:function(e,t){var n=this;t&&(0,a.default)(t).forEach(function(r){if(n.isEventProp(r)){var i=t[r];n.addEventListenerFromProp(e,r,i)}})}},{key:"addChildrenToElement",value:function(e,t){var n=this;t&&t.forEach(function(t){return e.appendChild.bind(e)(n.createElement(t))})}},{key:"createElement",value:function(e){if(void 0===e||null===e)return document.createTextNode("");if("string"==typeof e||"number"==typeof e||void 0===e||null===e)return document.createTextNode(e);var t=document.createElement(e.type);return this.setElementProps(t,e.props),this.addEventListenersFromProps(t,e.props),this.addChildrenToElement(t,e.children),t}},{key:"changed",value:function(e,t){return(void 0===e?"undefined":(0,r.default)(e))!==(void 0===t?"undefined":(0,r.default)(t))||("string"==typeof e||"number"==typeof e)&&e!==t||e.type!==t.type||e.props&&e.props.forceUpdate&&(!e.props.style||e.props.style&&!e.props.style.includes("display:none"))}},{key:"isInView",value:function(e,t){if(t&&(!t.getBoundingClientRect||"none"==t.style.display))return!0;var n=t.getBoundingClientRect(),r=e.getBoundingClientRect();return n.top>=r.top-n.height&&n.bottom<=r.bottom+n.height}},{key:"updateElement",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.childNodes[0];if(this.isNil(n))e.appendChild(this.createElement(t));else{if(this.isNil(t))return e.removeChild(r),-1;if(this.changed(t,n))e.replaceChild(this.createElement(t),r);else if(t.type){this.updateProps(r,t.props,n.props),this.updateEventListenersFromProp(r,t.props,n.props);for(var i=Math.max(t.children.length,n.children.length),o=0,a=0;a<i;a++)o+=this.updateElement(r,t.children[a],n.children[a],r.childNodes[a+o])}}return 0}}]),e}();t.default=c}])});